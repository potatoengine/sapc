# file header comment

// test import
import common;

[tag("Test Tag")]
module test;

attribute default { any value = 0; } /* default attribute */

[cxxname("int*"), ignore]
struct intptr;

struct Vec {
    float x = 0;
    float y = 0;
}

const Vec zero = { 0, 0 };
const Vec right = { 1, 0 };
const Vec up = { 0, 1 };

namespace ns {
    [name("Test")]
    struct test {
        [default]
        int x = 0 # a comment
        ;
        string y = "y"; // C++-style comment
        [ignore, name("fail")]
        /*
            C-style block comment
        */
        bool skipme = false;
        intptr iptr = null;
        string[] array = { "first", "second", "third" };
        bool[] bits = {{}};
        Vec*[] vecPtrs;
    }
}

union number {
    int i;
    float f;
}

[forward(Vec)]
struct derived : ns.test {}

enum order {
    first, second, third
}

struct ordered {
    order position = order.second;
}
